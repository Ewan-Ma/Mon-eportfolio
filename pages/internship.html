<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-key="pageTitle"></title>
  <link rel="icon" type="image/jpg" href="../annexes/photo.jpg">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <style>
    @keyframes fadeIn { from { opacity:0; transform:translateY(20px); } to { opacity:1; transform:translateY(0); } }
    .fade-in { animation:fadeIn 1s ease forwards; opacity:0; }
  </style>
</head>
<body class="bg-gray-50 text-gray-900">

  <!-- MENU NAVIGATION -->
  <nav class="bg-gray-900 text-white px-6 py-4 sticky top-0 z-40 shadow">
    <div class="container mx-auto flex justify-between items-center">
      <a href="../index.html" class="text-xl font-bold hover:text-blue-400" data-key="menuTitle">ENSEEIHT e-Portfolio</a>
      <ul class="flex space-x-6">

        <!-- Parcours Ingénieur -->
        <li class="relative group">
          <button class="hover:text-blue-400 flex items-center" data-key="menuEngineer">Parcours Ingénieur ▾</button>
          <ul class="absolute left-0 mt-2 w-44 bg-gray-800 rounded shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all">
            <li><a href="n7.html" class="block px-4 py-2 hover:bg-gray-700" data-key="menuN7">Cours à l'ENSEEIHT</a></li>
            <li><a href="projectprod.html" class="block px-4 py-2 hover:bg-gray-700" data-key="menuPP">Projets et Productions</a></li>
          </ul>
        </li>

        <li><a href="mobility.html" class="hover:text-blue-400" data-key="menuMobility">Mobilité Internationale</a></li>

        <!-- Engagement -->
        <li class="relative group">
          <button class="hover:text-blue-400 flex items-center" data-key="menuEngagement">Engagement ▾</button>
          <ul class="absolute left-0 mt-2 w-52 bg-gray-800 rounded shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all">
            <li><a href="civic.html" class="block px-4 py-2 hover:bg-gray-700" data-key="menuCivic"></a></li>
            <li><a href="devdur.html" class="block px-4 py-2 hover:bg-gray-700" data-key="menuDev"></a></li>
          </ul>
        </li>

        <li><a href="activities.html" class="hover:text-blue-400" data-key="menuActivities"></a></li>

        <!-- Dev de carrière -->
        <li class="relative group">
          <button class="hover:text-blue-400 flex items-center" data-key="menuCareer">Développement de Carrière ▾</button>
          <ul class="absolute left-0 mt-2 w-52 bg-gray-800 rounded shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all">
            <li><a href="internship.html" class="block px-4 py-2 hover:bg-gray-700" data-key="menuStage"></a></li>
            <li><a href="pep.html" class="block px-4 py-2 hover:bg-gray-700" data-key="menuPEP"></a></li>
            <li><a href="job.html" class="block px-4 py-2 hover:bg-gray-700" data-key="menuJob"></a></li>
          </ul>
        </li>
      </ul>
    </div>

    <!-- BOUTON LANGUE -->
    <div class="absolute top-4 right-6 z-50">
      <button id="lang-btn" class="px-3 py-1 bg-gray-200 text-black rounded hover:bg-gray-300" onclick="toggleLang()"><span data-key="EN_FR">EN</span></button>
    </div>
  </nav>

  <!-- HEADER -->
  <header class="bg-gradient-to-r from-blue-700 to-purple-700 text-white py-10 fade-in">
    <div class="container mx-auto text-center">
      <h1 class="text-5xl font-bold" data-key="Title"></h1>
      <p class="mt-4 text-lg" data-key="Subtitle"></p>
    </div>
  </header>

  <!-- CONTENU -->
  <section class="py-16 container mx-auto px-6 fade-in">
    <!-- Bloc 1 -->
    <div class="grid md:grid-cols-2 gap-10 items-center mb-20">
      <img src="../annexes/montage.jpg" alt="Montage bras robotisé" class="rounded-2xl shadow-lg">
      <div>
        <h2 class="text-3xl font-bold mb-4" data-key="introTitle">Présentation du stage</h2>
        <p class="text-lg mb-3" data-key="intro1"></p>
        <p class="text-lg mb-3" data-key="intro2"></p>
        <p class="text-lg" data-key="intro3"></p>
      </div>
    </div>

    <!-- Bloc 2 -->
    <div class="mb-20 fade-in">
      <h2 class="text-3xl font-bold mb-6 text-center" data-key="missionTitle">Missions et travaux réalisés</h2>
      <div class="max-w-4xl mx-auto text-lg leading-relaxed">
        <p class="mb-4" data-key="mission1"></p>
        <p class="mb-4" data-key="mission2"></p>
        <p class="mb-4" data-key="mission3"></p>
        <p data-key="mission4"></p>
      </div>
    </div>

    <!-- Bloc 3 -->
    <div class="bg-gray-100 rounded-2xl p-10 shadow-inner fade-in">
      <h2 class="text-3xl font-bold mb-6 text-center" data-key="bilanTitle">Bilan et compétences acquises</h2>
      <div class="max-w-4xl mx-auto text-lg leading-relaxed text-center">
        <p class="mb-4" data-key="bilan1"></p>
        <p data-key="bilan2"></p>
      </div>
    </div>

    <!-- PDF -->
    <div class="text-center mt-12 fade-in">
      <a href="../annexes/RAPPORT_DE_STAGE_MAUREL.pdf" target="_blank"
         class="inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white text-lg rounded-lg shadow hover:bg-blue-700 transition">
        <i class="fas fa-file-pdf"></i> <span data-key="pdfBtn">Télécharger le rapport de stage (PDF)</span>
      </a>
    </div>
  </section>

  <!-- FOOTER -->
  <footer id="contact" class="bg-gray-900 text-white py-10 fade-in">
    <div class="container mx-auto px-6">
      <div class="grid grid-cols-1 md:grid-cols-3 text-center md:text-left gap-8">
        <div>
          <p class="font-semibold text-center mb-2" data-key="footerPhone">Téléphone</p>
          <p class="font-semibold text-center mb-2"><a href="tel:+33769914159" class="hover:underline">+33 7 69 91 41 59</a></p>
        </div>
        <div>
          <p class="font-semibold text-center mb-2" data-key="footerMail">Email</p>
          <p class="font-semibold text-center mb-2"><a href="mailto:ewan.maurel@etu.inp-n7.fr" class="hover:underline">ewan.maurel@etu.inp-n7.fr</a></p>
        </div>
        <div>
          <p class="font-semibold text-center mb-2">LinkedIn</p>
          <p class="font-semibold text-center mb-2"><a href="https://www.linkedin.com/in/ewan-maurel" target="_blank" class="hover:underline">linkedin.com/in/ewan-maurel</a></p>
        </div>
      </div>
      <div class="text-center text-gray-400 text-sm mt-10" data-key="footerCopyright">
        © 2025 Ewan Maurel - ePortfolio ENSEEIHT
      </div>
    </div>
  </footer>

  <!-- JS TRADUCTION + FADE-IN -->
  <script>
  const translations = {
    fr: {
      EN_FR: "EN",
      menuTitle: "ENSEEIHT e-Portfolio",
      menuEngineer: "Parcours Ingénieur ▾",
      menuN7: "Cours à l'ENSEEIHT",
      menuPP: "Projets et Productions",
      menuMobility: "Mobilité Internationale",
      menuEngagement: "Engagement ▾",
      menuCivic: "Engagement Civique",
      menuDev: "Développement durable",
      menuActivities: "Autres Activités",
      menuCareer: "Développement de Carrière ▾",
      menuStage: "Stages",
      menuPEP: "PEP",
      menuJob: "Jobs d'été",
      pageTitle: "Stage | Ewan Maurel",
      Title: "Stage au Forschungszentrum Jülich",
      Subtitle: "Projet de recherche sur la robotisation des mesures environnementales",
      introTitle: "Présentation du stage",
      intro1: "Mon stage de 12 semaines s’est déroulé au sein du Forschungszentrum Jülich en Allemagne, dans l’institut IBG-3 Agrosphere. J’ai intégré l’équipe Environmental Measurement Automatization sous la supervision du Dr. Alexander Graf.",
      intro2: "L’objectif principal du stage était d’ajouter de nouveaux capteurs de gaz à effet de serre, de rayonnement et de météo sur un bras robotisé afin de permettre la réalisation de profils verticaux sous la canopée.",
      intro3: "Ce travail s’inscrit dans une démarche de recherche visant à mieux comprendre les échanges de CO₂, de vapeur d’eau et d’énergie entre la végétation et l’atmosphère.",
      missionTitle: "Missions et travaux réalisés",
      mission1: "J’ai participé à l’intégration de plusieurs capteurs (gaz à effet de serre, PAR, NDVI, météo) dans le système robotisé, en assurant leur communication et leur synchronisation avec le bras.",
      mission2: "J’ai développé une interface Python permettant de sélectionner les capteurs, définir la fréquence d’acquisition et contrôler les modes de mesure.",
      mission3: "Une autre partie du travail a consisté à récupérer les données en temps réel de position et de force du bras robotisé via le protocole Modbus TCP, pour analyse et enregistrement sur PC.",
      mission4: "Enfin, j’ai pris part à des missions de maintenance sur les stations de mesure et à des campagnes de terrain axées sur la biométrie végétale.",
      bilanTitle: "Bilan et compétences acquises",
      bilan1: "Ce stage m’a permis d’approfondir mes compétences en programmation Python, en communication réseau (sockets, Modbus), et en automatisation de mesures expérimentales.",
      bilan2: "J’ai également développé mon autonomie, ma rigueur scientifique et ma capacité à travailler dans un environnement international.",
      pdfBtn: "Télécharger le rapport de stage (PDF)",
      footerPhone: "Téléphone",
      footerMail: "Email",
      footerCopyright: "© 2025 Ewan Maurel - ePortfolio ENSEEIHT"
    },
    en: {
      EN_FR: "FR",
      menuTitle: "ENSEEIHT e-Portfolio",
      menuEngineer: "Engineering Path ▾",
      menuN7: "N7 Courses",
      menuPP: "Projects and Productions",
      menuMobility: "International Mobility",
      menuEngagement: "Engagement ▾",
      menuCivic: "Civic Engagement",
      menuDev: "Sustainibility",
      menuActivities: "Other Activities",
      menuCareer: "Career Development ▾",
      menuStage: "Internships",
      menuPEP: "PEP",
      menuJob: "Summer Jobs",
      pageTitle: "Internship | Ewan Maurel",
      Title: "Internship at Forschungszentrum Jülich",
      Subtitle: "Research project on robotic environmental measurement automation",
      introTitle: "Internship Overview",
      intro1: "My 12-week internship took place at the Forschungszentrum Jülich in Germany, within the IBG-3 Agrosphere institute. I joined the Environmental Measurement Automatization team under the supervision of Dr. Alexander Graf.",
      intro2: "The main objective was to integrate new greenhouse gas, radiation, and weather sensors onto a robotic arm to perform vertical profile measurements under the canopy.",
      intro3: "This project contributes to the study of CO₂, water vapor, and energy exchanges between vegetation and the atmosphere.",
      missionTitle: "Tasks and Achievements",
      mission1: "I contributed to integrating multiple sensors (greenhouse gases, PAR, NDVI, weather) into the robotic system while ensuring their communication and synchronization.",
      mission2: "I developed a Python interface that allows users to select sensors, configure measurement frequency, and control acquisition modes.",
      mission3: "Another key task was the real-time retrieval of robotic arm data (position and force) via the Modbus TCP protocol for visualization and recording on PC.",
      mission4: "I also took part in the maintenance of measurement stations and field campaigns related to vegetation biometrics.",
      bilanTitle: "Conclusion and Skills Acquired",
      bilan1: "This internship strengthened my skills in Python programming, network communication (sockets, Modbus), and experimental measurement automation.",
      bilan2: "It also enhanced my autonomy, scientific rigor, and ability to collaborate in an international research environment.",
      pdfBtn: "Download internship report (PDF)",
      footerPhone: "Phone",
      footerMail: "Email",
      footerCopyright: "© 2025 Ewan Maurel - ENSEEIHT ePortfolio"
    }
  };

  function getLang() {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get('lang') || localStorage.getItem('lang') || 'fr';
  }

  function setLang(lang) {
    localStorage.setItem('lang', lang);
    document.querySelectorAll("[data-key]").forEach(el=>{
      const key = el.getAttribute("data-key");
      if(translations[lang][key]) el.innerHTML = translations[lang][key];
    });
    // Met à jour les liens internes
    document.querySelectorAll("a[href]").forEach(a=>{
      const href = a.getAttribute("href");
      if(href && href.endsWith(".html")){
        const newUrl = href.includes("?lang=") ? href.replace(/lang=\w+/,"lang="+lang) : href+"?lang="+lang;
        a.setAttribute("href", newUrl);
      }
    });
  }

  function switchLang(newLang){
    const url = new URL(window.location.href);
    url.searchParams.set('lang', newLang);
    window.location.href = url.toString();
  }

  function toggleLang() {
    const btn = document.getElementById("lang-btn");
    if (btn.textContent.trim() === "EN") {
      switchLang('en');
    } else {
      switchLang('fr');
    }
  }

  const lang = getLang();
  setLang(lang);

  // FADE-IN
  const faders = document.querySelectorAll('.fade-in');
  const appearOptions = { threshold:0.1, rootMargin:"0px 0px -50px 0px" };
  const appearOnScroll = new IntersectionObserver((entries, observer)=>{
    entries.forEach(entry=>{
      if(!entry.isIntersecting) return;
      entry.target.style.opacity=1;
      entry.target.style.transform='translateY(0)';
      observer.unobserve(entry.target);
    });
  }, appearOptions);
  faders.forEach(fader=>appearOnScroll.observe(fader));
  </script>
</body>
</html>
